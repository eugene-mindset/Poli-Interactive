# Discussion

## Members

* Anderson Adon, aadon1
* Eugene Asare, easare3

## Modifications

We did not change the domain of the project, still focusing on bills that were
proposed and passed by Congress. We had to narrow the scope of bit because of
the data we were able to retrieve. Our data consists of bill information, info
about the members of Congress, and voting records on different bills. The data
is only for the 115th and 116th Congresses, occuring from January 2017 to
January 2021. We ended up not getting data about polls, electoral history, and 
some demographics.

We modified the tables we proposed in Phase B according to the data we had. Some
attributes had to be removed. We added new tables to better model the data: the
Subject, Area, and Bill_Subject tables.

Our data since Phase C remained the same. We managed to provide visualizations
that would allow a user to reasonably answer all the questions we proposed in
Phase D, but did not use exactly the same queries. We got rid of q14, which was
"What senator has voted against the majority of their party the most times?", and
instead with our visualizations you can answer the questions "what is the gender
distribution of members of congress?"

## Process

Our data came from XML files from https://www.govinfo.gov/bulkdata, from
ProPublica's Congress API https://projects.propublica.org/api-docs/congress-api/,
and from https://www.congress.gov/. The Congress table was made manually since
it's small. The Area and Subject tables were made manually, copy pasting from
Congress's website (https://www.congress.gov/help/field-values/legislative-subject-terms, 
https://www.congress.gov/help/field-values/policy-area). Member and Role data
was taken from ProPublica's API.

The Bill, Bill_Subject, Sponsor, and Cosponsor tables data was retrieved from
congress's bulk data store. The Vote table's data was retrieved semi-manually by
verifying the proper vote for each bill that ever received one since there was
no clear way to programmatically get the correct vote for a bill.

We made python scripts to parse all this data and generate CSVs. The scripts
are in `/data_collection/`. The CSVs were generated by adding the data to a SQLite
database with the same tables we planned to have in our final database, and we
used SQLite Studio to export the table data to CSVs to be imported in MariaDB.

## Successes

We found a JavaScript charts library called amCharts that allowed us to create
beautiful and varied visualizations for some of our queries. We're really glad
we took the time to learn this new library and use it for our project, we loved
the results.

We are also proud of the scripts we wrote to parse the bulk data from Congress
to get bill information. It took us a while to understand how to parse the xml files,
but once we did it was satisfying to write the python scripts.

## Known Issues

Some congressional districts changed congressmember in the middle of a congressional
term. For those districts, during the term that the changed occured, there would
be two congress members listed. We managed to find a way to handle this but simply
getting the first person, but this could have been modeled better.

Every bill has to have a sponsor, but since we made Sponsor a separate table from
Bill and not an attribute of Bill, there was no way for us to enforce this. If
you delete the sponsor for a Bill, the visualization "See how many votes on bill
came from the opposite party of the sponsor" won't work, since there is no way
to determine the party of the sponsor since there is no sponsor.

## Extensions

If we had more time, we would try to gather more data about Congress. There is a
lot of information that we did not manage to incorporate into our database. For
example, we could gathered data about all the actions related to a bill, such as
votes and discussions.

We would also try to model the data in a better way. To address the above issue
of multiple congress members for a district, we could add the time period that 
the person served the district for, which would avoid a conflict.
